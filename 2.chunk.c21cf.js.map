{"version":3,"sources":["webpack:///2.chunk.c21cf.js","webpack:///./components/shareLink/index.js","webpack:///../node_modules/react-copy/build/index.js","webpack:///./components/shareLink/style.scss?c0e7"],"names":["webpackJsonp","2KJC","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","ShareLink","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1__style_scss__","n","__WEBPACK_IMPORTED_MODULE_1__style_scss___default","__WEBPACK_IMPORTED_MODULE_2__components_octicon__","__WEBPACK_IMPORTED_MODULE_3_react_copy__","__WEBPACK_IMPORTED_MODULE_3_react_copy___default","__WEBPACK_IMPORTED_MODULE_4_prop_types__","__WEBPACK_IMPORTED_MODULE_5_unistore_preact__","_createClass","defineProperties","target","props","i","length","descriptor","key","Constructor","protoProps","staticProps","_Component","_temp","_this","_ret","_len","arguments","args","Array","_key","this","apply","concat","state","shareTimeActive","togglePanel","setState","sharePanelActive","onChangeSharetime","replaceUrlParam","url","paramName","paramValue","pattern","RegExp","search","replace","indexOf","render","className","a","shareContainer","textToBeCopied","shareLink","onCopied","shareText","shareButton","name","icon","shareTime","onChange","checked","type","id","htmlFor","activeVideo","currentTimestamp","get","_props$activeVideo","href","mapStateToProps","_ref","K02I","exports","e","o","t","r","l","m","c","__esModule","default","hasOwnProperty","p","s","assign","u","getPrototypeOf","PureComponent","window","getSelection","document","createRange","selectNodeContents","urlSpan","removeAllRanges","addRange","selection","body","createTextRange","moveToElementText","select","selectTextFromElement","execCommand","onCopy","success","error","children","Children","only","copy","bind","cloneElement","onClick","createElement","Fragment","ref","propTypes","string","isRequired","element","func","defaultProps","elp1"],"mappings":"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","file":"2.chunk.c21cf.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"2KJC\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShareLink\", function() { return ShareLink; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss__ = __webpack_require__(\"elp1\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_octicon__ = __webpack_require__(\"s7Nv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_copy__ = __webpack_require__(\"K02I\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_copy___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_copy__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_prop_types__ = __webpack_require__(\"5D9O\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_unistore_preact__ = __webpack_require__(\"o6ac\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_unistore_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_unistore_preact__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar ShareLink = function (_Component) {\n  _inherits(ShareLink, _Component);\n\n  function ShareLink() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ShareLink);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      shareTimeActive: false\n    }, _this.togglePanel = function () {\n      _this.setState({ sharePanelActive: !_this.state.sharePanelActive });\n    }, _this.onChangeSharetime = function () {\n      _this.setState({ shareTimeActive: !_this.state.shareTimeActive });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  /** Replace url parameter\n   *  https://stackoverflow.com/a/20420424/1312073\n   */\n  ShareLink.prototype.replaceUrlParam = function replaceUrlParam(url, paramName, paramValue) {\n    if (paramValue == null) {\n      paramValue = '';\n    }\n    var pattern = new RegExp('\\\\b(' + paramName + '=).*?(&|$)');\n    if (url.search(pattern) >= 0) {\n      return url.replace(pattern, '$1' + paramValue + '$2');\n    }\n    url = url.replace(/\\?$/, '');\n    return url + (url.indexOf('?') > 0 ? '&' : '?') + paramName + '=' + paramValue;\n  };\n\n  ShareLink.prototype.render = function render(props, state) {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      { className: __WEBPACK_IMPORTED_MODULE_1__style_scss___default.a.shareContainer },\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_3_react_copy___default.a,\n        {\n          textToBeCopied: this.shareLink,\n          onCopied: this.onCopied,\n          className: __WEBPACK_IMPORTED_MODULE_1__style_scss___default.a.shareText\n        },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'button',\n          { className: __WEBPACK_IMPORTED_MODULE_1__style_scss___default.a.shareButton },\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'span',\n            null,\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_2__components_octicon__[\"a\" /* default */], { name: 'link', className: __WEBPACK_IMPORTED_MODULE_1__style_scss___default.a.icon }),\n            ' Copy Link'\n          )\n        )\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        { className: __WEBPACK_IMPORTED_MODULE_1__style_scss___default.a.shareTime },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', {\n          onChange: this.onChangeSharetime,\n          checked: state.shareTimeActive,\n          type: 'checkbox',\n          id: 'sharetime'\n        }),\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'label',\n          { htmlFor: 'sharetime' },\n          ' ',\n          'share at',\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'span',\n            { className: 'currenttime' },\n            ' ' + props.activeVideo.currentTimestamp\n          )\n        )\n      )\n    );\n  };\n\n  _createClass(ShareLink, [{\n    key: 'shareLink',\n    get: function get() {\n      var _props$activeVideo = this.props.activeVideo,\n          currentTimestamp = _props$activeVideo.currentTimestamp,\n          href = _props$activeVideo.href;\n\n\n      if (this.state.shareTimeActive) {\n        return this.replaceUrlParam(href, 't', currentTimestamp);\n      }\n      return href;\n    }\n  }]);\n\n  return ShareLink;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nvar mapStateToProps = function mapStateToProps(_ref) {\n  var activeVideo = _ref.activeVideo;\n  return {\n    activeVideo: activeVideo\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_5_unistore_preact__[\"connect\"])(mapStateToProps)(ShareLink));\n\n/***/ }),\n\n/***/ \"K02I\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function (e) {\n  var t = {};function n(o) {\n    if (t[o]) return t[o].exports;var r = t[o] = { i: o, l: !1, exports: {} };return e[o].call(r.exports, r, r.exports, n), r.l = !0, r.exports;\n  }return n.m = e, n.c = t, n.d = function (e, t, o) {\n    n.o(e, t) || Object.defineProperty(e, t, { configurable: !1, enumerable: !0, get: o });\n  }, n.r = function (e) {\n    Object.defineProperty(e, \"__esModule\", { value: !0 });\n  }, n.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };return n.d(t, \"a\", t), t;\n  }, n.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, n.p = \"\", n(n.s = 2);\n}([function (e, t) {\n  e.exports = __webpack_require__(\"5D9O\");\n}, function (e, t) {\n  e.exports = __webpack_require__(\"eW0v\");\n}, function (e, t, n) {\n  \"use strict\";\n  Object.defineProperty(t, \"__esModule\", { value: !0 });var o = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];for (var o in n) {\n        Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n      }\n    }return e;\n  },\n      r = function () {\n    function e(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var o = t[n];o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n      }\n    }return function (t, n, o) {\n      return n && e(t.prototype, n), o && e(t, o), t;\n    };\n  }(),\n      u = n(1),\n      i = a(u),\n      c = a(n(0));function a(e) {\n    return e && e.__esModule ? e : { default: e };\n  }var l = function (e) {\n    function t() {\n      return function (e, t) {\n        if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n      }(this, t), function (e, t) {\n        if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n      }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));\n    }return function (e, t) {\n      if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n    }(t, u.PureComponent), r(t, [{ key: \"selectTextFromElement\", value: function value() {\n        if (window.getSelection && document.createRange) {\n          var e = window.getSelection(),\n              t = document.createRange();t.selectNodeContents(this.urlSpan), e.removeAllRanges(), e.addRange(t);\n        } else if (document.selection && document.body.createTextRange) {\n          var n = document.body.createTextRange();n.moveToElementText(this.urlSpan), n.select();\n        }\n      } }, { key: \"copy\", value: function value() {\n        this.selectTextFromElement();var e = void 0,\n            t = void 0;try {\n          document.execCommand(\"copy\"), e = !0;\n        } catch (n) {\n          e = !1, t = n;\n        }this.props.onCopy && this.props.onCopy({ success: e, error: t });\n      } }, { key: \"render\", value: function value() {\n        var e = this,\n            t = this.props,\n            n = t.textToBeCopied,\n            r = (t.onCopy, t.children),\n            u = function (e, t) {\n          var n = {};for (var o in e) {\n            t.indexOf(o) >= 0 || Object.prototype.hasOwnProperty.call(e, o) && (n[o] = e[o]);\n          }return n;\n        }(t, [\"textToBeCopied\", \"onCopy\", \"children\"]),\n            c = i.default.Children.only(r),\n            a = this.copy.bind(this),\n            l = i.default.cloneElement(c, o({}, c.props, { onClick: a }));return i.default.createElement(i.default.Fragment, null, i.default.createElement(\"span\", o({}, u, { ref: function ref(t) {\n            e.urlSpan = t;\n          } }), n), l);\n      } }]), t;\n  }();l.propTypes = { textToBeCopied: c.default.string.isRequired, children: c.default.element.isRequired, onCopy: c.default.func }, l.defaultProps = { onCopy: void 0 }, t.default = l;\n}]);\n\n/***/ }),\n\n/***/ \"elp1\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"shareContainer\":\"shareContainer__2xveA\",\"shareTime\":\"shareTime__5iTtM\",\"shareButton\":\"shareButton__1aIYl\",\"icon\":\"icon__3cNAN\",\"shareText\":\"shareText__3P7mg\"};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.chunk.c21cf.js","import { h, Component } from 'preact';\nimport style from './style.scss';\nimport Octicon from '../../components/octicon';\nimport Copy from 'react-copy';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'unistore/preact';\n\nexport class ShareLink extends Component {\n  state = {\n    shareTimeActive: false\n  };\n\n  static propTypes = {\n    activeVideo: PropTypes.object\n  };\n\n  togglePanel = () => {\n    this.setState({ sharePanelActive: !this.state.sharePanelActive });\n  };\n\n  /** Replace url parameter\n   *  https://stackoverflow.com/a/20420424/1312073\n   */\n  replaceUrlParam(url, paramName, paramValue) {\n    if (paramValue == null) {\n      paramValue = '';\n    }\n    var pattern = new RegExp('\\\\b(' + paramName + '=).*?(&|$)');\n    if (url.search(pattern) >= 0) {\n      return url.replace(pattern, '$1' + paramValue + '$2');\n    }\n    url = url.replace(/\\?$/, '');\n    return (\n      url + (url.indexOf('?') > 0 ? '&' : '?') + paramName + '=' + paramValue\n    );\n  }\n\n  get shareLink() {\n    const { currentTimestamp, href } = this.props.activeVideo;\n\n    if (this.state.shareTimeActive) {\n      return this.replaceUrlParam(href, 't', currentTimestamp);\n    }\n    return href;\n  }\n\n  onChangeSharetime = () => {\n    this.setState({ shareTimeActive: !this.state.shareTimeActive });\n  };\n\n  render(props, state) {\n    return (\n      <div className={style.shareContainer}>\n        <Copy\n          textToBeCopied={this.shareLink}\n          onCopied={this.onCopied}\n          className={style.shareText}\n        >\n          <button className={style.shareButton}>\n            <span>\n              <Octicon name=\"link\" className={style.icon} /> Copy Link\n            </span>\n          </button>\n        </Copy>\n        <div className={style.shareTime}>\n          <input\n            onChange={this.onChangeSharetime}\n            checked={state.shareTimeActive}\n            type=\"checkbox\"\n            id=\"sharetime\"\n          />\n          <label htmlFor=\"sharetime\">\n            {' '}\n            share at\n            <span className=\"currenttime\">\n              {' ' + props.activeVideo.currentTimestamp}\n            </span>\n          </label>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ activeVideo }) => ({\n  activeVideo\n});\n\nexport default connect(mapStateToProps)(ShareLink);\n\n\n\n// WEBPACK FOOTER //\n// ./components/shareLink/index.js","module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t){e.exports=require(\"prop-types\")},function(e,t){e.exports=require(\"react\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),i=a(u),c=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),r(t,[{key:\"selectTextFromElement\",value:function(){if(window.getSelection&&document.createRange){var e=window.getSelection(),t=document.createRange();t.selectNodeContents(this.urlSpan),e.removeAllRanges(),e.addRange(t)}else if(document.selection&&document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(this.urlSpan),n.select()}}},{key:\"copy\",value:function(){this.selectTextFromElement();var e=void 0,t=void 0;try{document.execCommand(\"copy\"),e=!0}catch(n){e=!1,t=n}this.props.onCopy&&this.props.onCopy({success:e,error:t})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.textToBeCopied,r=(t.onCopy,t.children),u=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,[\"textToBeCopied\",\"onCopy\",\"children\"]),c=i.default.Children.only(r),a=this.copy.bind(this),l=i.default.cloneElement(c,o({},c.props,{onClick:a}));return i.default.createElement(i.default.Fragment,null,i.default.createElement(\"span\",o({},u,{ref:function(t){e.urlSpan=t}}),n),l)}}]),t}();l.propTypes={textToBeCopied:c.default.string.isRequired,children:c.default.element.isRequired,onCopy:c.default.func},l.defaultProps={onCopy:void 0},t.default=l}]);\n\n\n// WEBPACK FOOTER //\n// ../node_modules/react-copy/build/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"shareContainer\":\"shareContainer__2xveA\",\"shareTime\":\"shareTime__5iTtM\",\"shareButton\":\"shareButton__1aIYl\",\"icon\":\"icon__3cNAN\",\"shareText\":\"shareText__3P7mg\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/shareLink/style.scss\n// module id = elp1\n// module chunks = 2"],"sourceRoot":""}